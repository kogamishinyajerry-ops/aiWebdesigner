# 在对话中使用 Skills 和 Agents 系统

## ✅ 系统已集成完成

现在我在对话中可以直接使用 Skills 和 Agents 系统来自动化帮你完成各种任务！

## 🚀 如何使用

### 方式 1: 直接要求我使用（推荐）

你只需要在对话中提出需求，我会自动使用合适的技能和代理来完成：

```
"分析一下 workspace/Codes/use_model.py 这个文件"
"检查一下当前的 Git 状态"
"审查一下这个项目的代码质量"
"查找项目中所有的 Python 文件"
"检测这个文件有什么潜在的问题"
```

### 方式 2: 指定使用某个功能

你可以明确要求使用特定的技能：

```
"使用 code_analysis 技能分析文件"
"使用 git_operations 技能查看状态"
"使用 code_reviewer 代理审查代码"
"使用 file_processor 代理处理文件"
```

### 方式 3: 让我执行命令

我可以通过执行命令来调用 AI 助手：

```
"运行: python ai_assistant.py analyze Codes/use_model.py"
"运行: python ai_assistant.py git"
"运行: python ai_assistant.py complexity Codes/use_model.py"
```

## 📋 可用的功能

### 1. 文件分析 (analyze)

```
"分析文件 workspace/Codes/use_model.py"
```

输出：
- 文件语言
- 代码行数
- 类和函数数量
- 导入的模块

### 2. Git 状态检查 (git)

```
"查看当前 Git 状态"
"检查 workspace 目录的 Git 状态"
```

输出：
- 当前分支
- 已暂存/未暂存/未跟踪的文件数量

### 3. 复杂度分析 (complexity)

```
"分析 workspace/Codes/use_model.py 的复杂度"
```

输出：
- 总复杂度
- 平均复杂度
- 整体等级（low/moderate/high/very_high）

### 4. Bug 检测 (bugs)

```
"检测 workspace/Codes/use_model.py 有没有 Bug"
"找出这个文件潜在的问题"
```

输出：
- 发现的潜在问题列表
- 问题类型和严重程度

### 5. 代码审查 (review)

```
"审查 workspace/Codes/use_model.py 的代码质量"
```

输出：
- 发现的问题数量
- 警告数量
- 改进建议

### 6. 依赖分析 (deps)

```
"查看 workspace/Codes/use_model.py 的依赖"
```

输出：
- 内部依赖
- 外部依赖
- 总依赖数量

## 💡 使用示例

### 示例 1: 分析新代码

**你**: "分析一下 workspace/Codes/use_model.py 这个文件"

**我**: 
```
📄 文件分析: Codes/use_model.py
  语言: python
  行数: 108
  类: 1
  函数: 4
  导入: 4
```

### 示例 2: 提交前检查

**你**: "我准备提交代码，帮我检查一下 Git 状态"

**我**:
```
📊 Git 状态: .
  分支: main
  已暂存: 1
  未暂存: 1
  未跟踪: 16
```

然后我可能会建议：
```
"你有 1 个文件已暂存，1 个文件未暂存，16 个文件未跟踪。
建议先添加要提交的文件：git add <文件名>"
```

### 示例 3: 代码质量审查

**你**: "审查一下 workspace/Codes/use_model.py 的代码质量"

**我**:
```
✅ 代码审查: Codes/use_model.py
  问题: 2
  警告: 3
  建议: 5
```

然后我会详细列出发现的问题。

### 示例 4: 复杂度检查

**你**: "检查这个文件的复杂度"

**我**:
```
🔍 复杂度分析: Codes/use_model.py
  总复杂度: 8
  平均复杂度: 2.0
  整体等级: low
```

如果复杂度很高，我会建议重构。

## 🎯 高级用法

### 批量操作

**你**: "帮我分析 workspace/Codes 目录下所有的 Python 文件"

我会自动：
1. 查找所有 .py 文件
2. 逐个分析每个文件
3. 汇总报告

### 综合审查

**你**: "全面审查一下这个项目"

我会自动：
1. 检查 Git 状态
2. 分析代码结构
3. 检测潜在问题
4. 评估代码质量
5. 给出综合报告

### 搜索和定位

**你**: "在项目中找到所有包含 OllamaClient 的地方"

我会使用代码探索代理搜索。

## 📊 输出格式

我使用的表情符号标识：
- 📄 文件分析
- 📊 Git 状态
- 🔍 复杂度分析
- 🐛 Bug 检测
- ✅ 代码审查
- 🔗 依赖分析

## 🛠️ 可用的命令

如果你想直接运行命令，可以使用：

```bash
# 分析文件
python ai_assistant.py analyze <文件路径>

# Git 状态
python ai_assistant.py git [目录]

# 复杂度分析
python ai_assistant.py complexity <文件路径>

# Bug 检测
python ai_assistant.py bugs <文件路径>

# 代码审查
python ai_assistant.py review <文件路径>

# 依赖分析
python ai_assistant.py deps <文件路径>
```

## 💬 对话中的快捷方式

你可以使用自然的语言表达，例如：

- "看看这个文件" → 自动分析文件
- "代码写得怎么样" → 代码审查
- "有 bug 吗" → Bug 检测
- "太复杂了吗" → 复杂度分析
- "要提交什么" → Git 状态
- "依赖了哪些库" → 依赖分析

我会自动理解你的意图并使用合适的功能！

## 🎓 实战场景

### 场景 1: 接手新项目

```
你: "帮我了解一下这个项目"
我: 自动执行：
     1. Git 状态检查
     2. 文件结构分析
     3. 依赖分析
     4. 代码质量评估
     5. 给出项目概览
```

### 场景 2: 提交代码前

```
你: "准备提交了，帮我检查一下"
我: 自动执行：
     1. Git 状态检查
     2. 修改的文件分析
     3. 代码审查
     4. 潜在问题检测
     5. 提交建议
```

### 场景 3: 代码重构

```
你: "这个文件太复杂了，帮我看看"
我: 自动执行：
     1. 复杂度分析
     2. 函数/类分析
     3. 代码异味检测
     4. 重构建议
```

### 场景 4: 问题调试

```
你: "这个文件有什么问题"
我: 自动执行：
     1. Bug 检测
     2. 代码审查
     3. 依赖检查
     4. 风险评估
```

## 🆘 限制说明

- 我只能分析本地的文件
- 需要 Python 环境支持
- 部分高级功能可能需要异步执行
- 大型项目可能需要较长时间

## ✨ 总结

现在你可以：

1. **直接对话**：用自然语言提出需求
2. **自动识别**：我会自动选择合适的技能/代理
3. **快速执行**：立即得到结果
4. **智能建议**：根据结果给出改进建议

开始使用吧！直接告诉我你想做什么 😊
